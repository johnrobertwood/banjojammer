!function(){function t(t,e,a,n,i,r,s){try{var o=t[r](s),u=o.value}catch(c){return void a(c)}o.done?e(u):Promise.resolve(u).then(n,i)}function e(e){return function(){var a=this,n=arguments;return new Promise(function(i,r){var s=e.apply(a,n);function o(e){t(s,i,r,o,u,"next",e)}function u(e){t(s,i,r,o,u,"throw",e)}o(void 0)})}}function a(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{HaBs:function(t,i,r){"use strict";var s;r.r(i),r.d(i,"amplify_authenticator",function(){return b});var o=r("hKmi"),u=r("Nt7R"),c=r("Qycn"),h=r("s1tr"),l=r("TESy"),f=r("v4IS"),g=(r("sPRy"),r("/vcS")),d=r("Y85I"),p=r("R3Op"),m=(n(s={},h.a.SignIn,"sign-in"),n(s,h.a.ConfirmSignIn,"confirm-sign-in"),n(s,h.a.SignUp,"sign-up"),n(s,h.a.ConfirmSignUp,"confirm-sign-up"),n(s,h.a.ForgotPassword,"forgot-password"),n(s,h.a.ResetPassword,"require-new-password"),n(s,h.a.VerifyContact,"verify-contact"),n(s,h.a.TOTPSetup,"totp-setup"),n(s,h.a.Loading,"loading"),s),v=new u.a("Authenticator"),b=function(){function t(e){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object(o.k)(this,e),this.initialAuthState=h.a.SignIn,this.handleAuthStateChange=function(){},this.hideToast=!1,this.authState=h.a.Loading,this.toastMessage="",this.handleExternalAuthEvent=function(t){var e=t.payload;switch(e.event){case"cognitoHostedUI":case"signIn":Object(p.a)(e.data,d.d);break;case"cognitoHostedUI_failure":case"parsingUrl_failure":case"signOut":case"customGreetingSignOut":return Object(d.d)(a.initialAuthState)}},this.handleToastEvent=function(t){var e=t.payload;switch(e.event){case g.h:e.message&&(a.toastMessage=e.message)}}}var n,i,r,s,u,b;return n=t,(i=[{key:"componentWillLoad",value:(b=e(regeneratorRuntime.mark(function t(){var e,a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(d.h)(function(t,e){a.onAuthStateChange(t,e),a.toastMessage=""}),this.hideToast||c.a.listen(g.i,this.handleToastEvent),c.a.listen(g.a,this.handleExternalAuthEvent),Object(l.j)("amplify-authenticator"),e=localStorage.getItem(g.f),localStorage.removeItem(g.f),t.t0="true"!==e,!t.t0){t.next=7;break}return t.next=7,this.checkUser();case 7:case"end":return t.stop()}},t,this)})),function(){return b.apply(this,arguments)})},{key:"checkUser",value:(u=e(regeneratorRuntime.mark(function t(){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f.a&&"function"==typeof f.a.currentAuthenticatedUser){t.next=2;break}throw new Error(g.d);case 2:return t.abrupt("return",f.a.currentAuthenticatedUser().then(function(t){Object(d.d)(h.a.SignedIn,t)}).catch(e(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=null;try{e=localStorage.getItem(g.l)}catch(n){v.debug("Failed to get the auth state from local storage",n)}if(t.prev=2,t.t0=e===h.a.SignedIn,!t.t0){t.next=7;break}return t.next=7,f.a.signOut();case 7:Object(d.d)(a.initialAuthState),t.next=13;break;case 10:t.prev=10,t.t1=t.catch(2),v.debug("Failed to sign out",t.t1);case 13:case"end":return t.stop()}},t,null,[[2,10]])}))));case 3:case"end":return t.stop()}},t)})),function(){return u.apply(this,arguments)})},{key:"onAuthStateChange",value:(s=e(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return",v.error("nextAuthState cannot be undefined"));case 2:v.info("Inside onAuthStateChange Method current authState:",this.authState),this.authState=e===h.a.SignedOut?this.initialAuthState:e,this.authData=a,this.authData&&v.log("Auth Data was set:",this.authData),this.authState===e&&(this.handleAuthStateChange(this.authState,this.authData),v.info("authState has been updated to "+this.authState));case 3:case"end":return t.stop()}},t,this)})),function(t,e){return s.apply(this,arguments)})},{key:"getAuthComponent",value:function(t){switch(t){case h.a.SignIn:return Object(o.i)("amplify-sign-in",{federated:this.federated,usernameAlias:this.usernameAlias});case h.a.ConfirmSignIn:return Object(o.i)("amplify-confirm-sign-in",{user:this.authData});case h.a.SignUp:return Object(o.i)("amplify-sign-up",{usernameAlias:this.usernameAlias});case h.a.ConfirmSignUp:return Object(o.i)("amplify-confirm-sign-up",{user:this.authData,usernameAlias:this.usernameAlias});case h.a.ForgotPassword:return Object(o.i)("amplify-forgot-password",{usernameAlias:this.usernameAlias});case h.a.ResetPassword:return Object(o.i)("amplify-require-new-password",{user:this.authData});case h.a.VerifyContact:return Object(o.i)("amplify-verify-contact",{user:this.authData});case h.a.TOTPSetup:return Object(o.i)("amplify-totp-setup",{user:this.authData});case h.a.Loading:return Object(o.i)("div",null,"Loading...");default:throw new Error("Unhandled auth state: "+t)}}},{key:"getSlotWithAuthComponent",value:function(t){var e=this.getAuthComponent(t),a=m[t],n=null===this.el.querySelector('[slot="'.concat(a,'"]'));return Object(o.i)("slot",{name:a},n&&e)}},{key:"componentWillUnload",value:function(){return c.a.remove(g.a,this.handleExternalAuthEvent),this.hideToast||c.a.remove(g.i,this.handleToastEvent),d.h}},{key:"render",value:function(){var t=this;return Object(o.i)(o.b,null,!this.hideToast&&this.toastMessage&&Object(o.i)("amplify-toast",{message:this.toastMessage,handleClose:function(){t.toastMessage=""},"data-test":"authenticator-error"}),this.authState===h.a.SignedIn?[Object(o.i)("slot",{name:"greetings"}),Object(o.i)("slot",null)]:Object(o.i)("div",{class:"auth-container"},this.getSlotWithAuthComponent(this.authState)))}},{key:"el",get:function(){return Object(o.h)(this)}}])&&a(n.prototype,i),r&&a(n,r),t}();b.style=":host{--background-color:var(--amplify-background-color);--width:28.75rem;--min-width:20rem;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;--box-shadow:1px 1px 4px 0 rgba(0, 0, 0, 0.15);--border-radius:6px;--padding:35px 40px;--margin-bottom:20px;--container-height:100vh;--container-display:flex;--container-justify:center;--container-align:center}.auth-container{display:var(--container-display);-ms-flex-pack:var(--container-justify);justify-content:var(--container-justify);-ms-flex-align:var(--container-align);align-items:var(--container-align);min-height:var(--container-height)}"}}])}();