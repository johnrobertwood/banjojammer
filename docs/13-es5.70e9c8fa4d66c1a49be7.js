!function(){function e(e,t,n,i,a,r,o){try{var u=e[r](o),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(i,a)}function t(t){return function(){var n=this,i=arguments;return new Promise(function(a,r){var o=t.apply(n,i);function u(t){e(o,a,r,u,c,"next",t)}function c(t){e(o,a,r,u,c,"throw",t)}u(void 0)})}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{pptk:function(e,i,r){"use strict";r.r(i),r.d(i,"amplify_amazon_button",function(){return p}),r.d(i,"amplify_auth0_button",function(){return v}),r.d(i,"amplify_facebook_button",function(){return I}),r.d(i,"amplify_google_button",function(){return y}),r.d(i,"amplify_oauth_button",function(){return k});var o=r("bRKV"),u=r("Nt7R"),c=r("JIIv"),s=r("s1tr"),h=r("v4IS"),f=r("vbTL"),d=r("/vcS"),l=r("xtuj"),g=new u.a("amplify-amazon-button"),p=function(){function e(i){var a=this;n(this,e),Object(o.k)(this,i),this.handleAuthStateChange=l.d,this.federatedSignIn=function(e){var n=e.access_token,i=e.expires_in;if(n){if(!h.a||"function"!=typeof h.a.federatedSignIn||"function"!=typeof h.a.currentAuthenticatedUser)throw new Error(d.d);var r=1e3*i+(new Date).getTime();window.amazon.Login.retrieveProfile(function(){var e=t(regeneratorRuntime.mark(function e(t){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.success){e.next=2;break}return e.abrupt("return",g.debug("Get user Info failed"));case 2:return i={name:t.profile.Name,email:t.profile.PrimaryEmail},e.next=5,h.a.federatedSignIn("amazon",{token:n,expires_at:r},i);case 5:return e.next=7,h.a.currentAuthenticatedUser();case 7:o=e.sent,a.handleAuthStateChange(s.a.SignedIn,o);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}}return a(e,[{key:"signInWithAmazon",value:function(e){var t=this;e.preventDefault(),window.amazon.Login.setClientId(this.clientId),window.amazon.Login.authorize({scope:"profile"},function(e){if(e.error)return g.debug("Failed to login with amazon: "+e.error);try{window.localStorage.setItem(d.s,JSON.stringify({provider:"amazon"}))}catch(n){g.debug("Failed to cache auth source into localStorage",n)}t.federatedSignIn(e)})}},{key:"render",value:function(){var e=this;return Object(o.i)("amplify-sign-in-button",{onClick:function(t){return e.signInWithAmazon(t)},provider:"amazon"},Object(o.i)("script",{src:"https://assets.loginwithamazon.com/sdk/na/login1.js"}),c.a.get(f.a.SIGN_IN_WITH_AMAZON))}}]),e}(),m=new u.a("amplify-auth0-button"),v=function(){function e(i){var a=this;n(this,e),Object(o.k)(this,i),this.handleAuthStateChange=l.d,this.handleLoad=function(){var e=h.a.configure().oauth,n=void 0===e?{}:e,i=a.config,r=void 0===i?n.auth0:i;r?(m.debug("auth0 configuration",r),a._auth0||(a._auth0=new window.auth0.WebAuth(r)),a._auth0.parseHash(function(e,n){if(e)m.debug("Failed to parse the url for Auth0",e);else if(n){var i={provider:"auth0",opts:{returnTo:r.returnTo,clientID:r.clientID,federated:r.federated}};try{localStorage.setItem(d.s,JSON.stringify(i))}catch(o){m.debug("Failed to cache auth source into localStorage",o)}a._auth0.client.userInfo(n.accessToken,function(){var e=t(regeneratorRuntime.mark(function e(t,i){var o,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0,u=void 0,t?m.debug("Failed to get the user info",t):(o=i.name,u=i.email),e.next=4,h.a.federatedSignIn(r.domain,{token:n.idToken,expires_at:1e3*n.expiresIn+(new Date).getTime()},{name:o,email:u});case 4:return e.next=6,h.a.currentAuthenticatedUser();case 6:c=e.sent,a.handleAuthStateChange(s.a.SignedIn,c);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}else m.debug("Auth0 found no authResult in hash")})):m.debug("Auth0 is not configured")}}return a(e,[{key:"signInWithAuth0",value:function(e){if(e.preventDefault(),!this._auth0)throw new Error("the auth0 client is not configured");this._auth0.authorize()}},{key:"render",value:function(){var e=this;return Object(o.i)("amplify-sign-in-button",{onClick:function(t){return e.signInWithAuth0(t)},provider:"auth0"},Object(o.i)("script",{onLoad:this.handleLoad,src:"https://cdn.auth0.com/js/auth0/9.11/auth0.min.js"}),c.a.get(f.a.SIGN_IN_WITH_AUTH0))}}]),e}(),w=new u.a("amplify-facebook-button"),I=function(){function e(i){var a=this;n(this,e),Object(o.k)(this,i),this.handleAuthStateChange=l.d,this.federatedSignIn=function(e){var n=e.accessToken,i=e.expiresIn;if(n){if(!h.a||"function"!=typeof h.a.federatedSignIn||"function"!=typeof h.a.currentAuthenticatedUser)throw new Error(d.d);var r=1e3*i+(new Date).getTime();window.FB.api("/me",{fields:"name,email"},function(){var e=t(regeneratorRuntime.mark(function e(t){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={name:t.name,email:t.email},e.next=3,h.a.federatedSignIn("facebook",{token:n,expires_at:r},i);case 3:return e.next=5,h.a.currentAuthenticatedUser();case 5:o=e.sent,a.handleAuthStateChange(s.a.SignedIn,o);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},this.getLoginStatus=function(){window.FB.getLoginStatus(function(e){try{window.localStorage.setItem(d.s,JSON.stringify({provider:"facebook"}))}catch(t){w.debug("Failed to cache auth source into localStorage",t)}if("connected"===e.status)return a.federatedSignIn(e.authResponse);a.login()})},this.login=function(){window.FB.login(function(e){e&&e.authResponse&&a.federatedSignIn(e.authResponse)},{scope:"public_profile,email"})}}return a(e,[{key:"signInWithFacebook",value:function(e){e.preventDefault(),window.FB.init({appId:this.appId,cookie:!0,xfbml:!1,version:"v5.0"}),this.getLoginStatus()}},{key:"render",value:function(){var e=this;return Object(o.i)("amplify-sign-in-button",{onClick:function(t){return e.signInWithFacebook(t)},provider:"facebook"},Object(o.i)("script",{async:!0,defer:!0,src:"https://connect.facebook.net/en_US/sdk.js"}),c.a.get(f.a.SIGN_IN_WITH_FACEBOOK))}}]),e}(),b=new u.a("amplify-google-button"),y=function(){function e(i){var a=this;n(this,e),Object(o.k)(this,i),this.handleAuthStateChange=l.d,this.handleError=function(e){console.error(e)},this.handleLoad=function(){window.gapi.load("auth2")},this.handleUser=function(){var e=t(regeneratorRuntime.mark(function e(t){var n,i,r,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h.a&&"function"==typeof h.a.federatedSignIn&&"function"==typeof h.a.currentAuthenticatedUser){e.next=2;break}throw new Error(d.d);case 2:try{window.localStorage.setItem(d.s,JSON.stringify({provider:"google"}))}catch(c){b.debug("Failed to cache auth source into localStorage",c)}return n=t.getAuthResponse(),i=n.id_token,r=n.expires_at,o=t.getBasicProfile(),e.next=6,h.a.federatedSignIn("google",{token:i,expires_at:r},{email:o.getEmail(),name:o.getName(),picture:o.getImageUrl()});case 6:return e.next=8,h.a.currentAuthenticatedUser();case 8:u=e.sent;try{a.handleAuthStateChange(s.a.SignedIn,u)}catch(f){a.handleError(f)}case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}return a(e,[{key:"getAuthInstance",value:function(){return window.gapi&&window.gapi.auth2?window.gapi.auth2.getAuthInstance()||window.gapi.auth2.init({client_id:this.clientId,cookiepolicy:"single_host_origin",scope:"profile email openid"}):null}},{key:"signInWithGoogle",value:function(e){e.preventDefault(),this.getAuthInstance().signIn().then(this.handleUser).catch(this.handleError)}},{key:"render",value:function(){var e=this;return Object(o.i)("amplify-sign-in-button",{onClick:function(t){return e.signInWithGoogle(t)},provider:"google"},Object(o.i)("script",{onLoad:this.handleLoad,src:"https://apis.google.com/js/api:client.js"}),c.a.get(f.a.SIGN_IN_WITH_GOOGLE))}}]),e}(),k=function(){function e(t){n(this,e),Object(o.k)(this,t),this.config={}}return a(e,[{key:"signInWithOAuth",value:function(e){e.preventDefault(),h.a.federatedSignIn()}},{key:"render",value:function(){var e=this;return Object(o.i)("amplify-sign-in-button",{onClick:function(t){return e.signInWithOAuth(t)},provider:"oauth"},this.config.label||c.a.get(f.a.SIGN_IN_WITH_AWS))}}]),e}()}}])}();