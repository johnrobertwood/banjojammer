(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"4yGZ":function(t,e,n){"use strict";n.r(e),n.d(e,"CrisisCenterModule",function(){return N});var i=n("3Pt+"),r=n("ofXK"),c=n("qFsG"),s=n("bTqV"),o=n("tyNb"),a=n("fXoL");let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Gb({type:t,selectors:[["app-crisis-center-home"]],decls:2,vars:0,template:function(t,e){1&t&&(a.Rb(0,"p"),a.tc(1,"Welcome to the Crisis Center"),a.Qb())},styles:[""]}),t})();var l=n("eIep"),b=n("2Vo4"),u=n("lJxs");const p=[{id:1,name:"Dragon Burning Cities"},{id:2,name:"Sky Rains Great White Sharks"},{id:3,name:"Giant Asteroid Heading For Earth"},{id:4,name:"Procrastinators Meeting Delayed Again"}];var f=n("OdHV");let g=(()=>{class t{constructor(t){this.messageService=t,this.crises$=new b.a(p)}getCrises(){return this.crises$}getCrisis(t){return this.getCrises().pipe(Object(u.a)(e=>e.find(e=>e.id===+t)))}addCrisis(e){if(e=e.trim()){const n={id:t.nextCrisisId++,name:e};p.push(n),this.crises$.next(p)}}}return t.nextCrisisId=100,t.\u0275fac=function(e){return new(e||t)(a.Vb(f.a))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const m=function(t){return[t]};function h(t,e){if(1&t&&(a.Rb(0,"li"),a.Rb(1,"a",2),a.Rb(2,"span",3),a.tc(3),a.Qb(),a.tc(4),a.Qb(),a.Qb()),2&t){const t=e.$implicit,n=a.ac();a.Eb("selected",t.id===n.selectedId),a.Cb(1),a.fc("routerLink",a.gc(5,m,t.id)),a.Cb(2),a.uc(t.id),a.Cb(1),a.vc("",t.name," ")}}let v=(()=>{class t{constructor(t,e){this.service=t,this.route=e}ngOnInit(){this.crises$=this.route.paramMap.pipe(Object(l.a)(t=>(this.selectedId=+t.get("id"),this.service.getCrises())))}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(g),a.Mb(o.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-crisis-list"]],decls:4,vars:3,consts:[[1,"crises"],[3,"selected",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge"]],template:function(t,e){1&t&&(a.Rb(0,"ul",0),a.sc(1,h,5,7,"li",1),a.bc(2,"async"),a.Qb(),a.Nb(3,"router-outlet")),2&t&&(a.Cb(1),a.fc("ngForOf",a.cc(2,1,e.crises$)))},directives:[r.k,o.g,o.e],pipes:[r.b],styles:[".crises[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:24em}.crises[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.crises[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.crises[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#888;text-decoration:none;display:block}.crises[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.crises[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;min-width:16px;text-align:right;margin-right:.8em;border-radius:4px 0 0 4px}button[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;font-family:Arial}button[_ngcontent-%COMP%]:hover{background-color:#cfd8dc}button.delete[_ngcontent-%COMP%]{position:relative;left:194px;top:-32px;background-color:grey!important;color:#fff}.crises[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.crises[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc}"]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Gb({type:t,selectors:[["app-crisis-center"]],decls:3,vars:0,template:function(t,e){1&t&&(a.Rb(0,"h2"),a.tc(1,"CRISIS CENTER"),a.Qb(),a.Nb(2,"router-outlet"))},directives:[o.g],styles:[""]}),t})();var M=n("LRne");let O=(()=>{class t{confirm(t){const e=window.confirm(t||"Is it OK?");return Object(M.a)(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=n("kmnG");function k(t,e){if(1&t){const t=a.Sb();a.Rb(0,"form"),a.Rb(1,"h3"),a.tc(2),a.Qb(),a.Rb(3,"div"),a.Rb(4,"mat-label"),a.tc(5,"Id: "),a.Qb(),a.tc(6),a.Qb(),a.Rb(7,"div"),a.Rb(8,"mat-label"),a.tc(9,"Name: "),a.Qb(),a.Rb(10,"input",3),a.Yb("ngModelChange",function(e){return a.jc(t),a.ac().editName=e}),a.Qb(),a.Qb(),a.Qb()}if(2&t){const t=a.ac();a.Cb(2),a.vc('"',t.editName,'"'),a.Cb(4),a.uc(t.crisis.id),a.Cb(4),a.fc("ngModel",t.editName)}}let w=(()=>{class t{constructor(t,e,n){this.route=t,this.router=e,this.dialogService=n}ngOnInit(){this.route.data.subscribe(t=>{this.editName=t.crisis.name,this.crisis=t.crisis})}cancel(){this.gotoCrises()}save(){this.crisis.name=this.editName,this.gotoCrises()}canDeactivate(){return!this.crisis||this.crisis.name===this.editName||this.dialogService.confirm("Discard changes?")}gotoCrises(){this.router.navigate(["../",{id:this.crisis?this.crisis.id:null,foo:"foo"}],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(o.a),a.Mb(o.b),a.Mb(O))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-crisis-detail"]],decls:5,vars:1,consts:[[4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"],["matInput","","placeholder","name","name","crisis-input",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(a.sc(0,k,11,3,"form",0),a.Rb(1,"button",1),a.Yb("click",function(){return e.save()}),a.tc(2,"Save"),a.Qb(),a.Rb(3,"button",2),a.Yb("click",function(){return e.cancel()}),a.tc(4,"Cancel"),a.Qb()),2&t&&a.fc("ngIf",e.crisis)},directives:[r.l,s.a,i.j,i.g,i.h,y.d,c.a,i.a,i.f,i.i],styles:["input[_ngcontent-%COMP%]{width:20em}"]}),t})(),I=(()=>{class t{canDeactivate(t){return!t.canDeactivate||t.canDeactivate()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=n("EY2u"),R=n("IzEk"),_=n("5+tZ");const x=[{path:"",component:C,children:[{path:"",component:v,children:[{path:":id",component:w,canDeactivate:[I],resolve:{crisis:(()=>{class t{constructor(t,e){this.cs=t,this.router=e}resolve(t,e){const n=t.paramMap.get("id");return this.cs.getCrisis(n).pipe(Object(R.a)(1),Object(_.a)(t=>t?Object(M.a)(t):(this.router.navigate(["/crisis-center"]),P.a)))}}return t.\u0275fac=function(e){return new(e||t)(a.Vb(g),a.Vb(o.b))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}},{path:"",component:d}]}]}];let Q=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[o.f.forChild(x)],o.f]}),t})(),N=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[r.c,i.c,Q,s.b,c.b]]}),t})()}}]);