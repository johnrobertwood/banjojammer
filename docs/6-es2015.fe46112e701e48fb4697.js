(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"4yGZ":function(e,t,n){"use strict";n.r(t),n.d(t,"CrisisCenterModule",function(){return D});var i=n("3Pt+"),r=n("ofXK"),c=n("qFsG"),o=n("bTqV"),s=n("tyNb"),a=n("fXoL");let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Fb({type:e,selectors:[["app-crisis-center-home"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Qb(0,"p"),a.uc(1,"Welcome to the Crisis Center"),a.Pb())},styles:[""]}),e})();var l=n("eIep"),b=n("2Vo4"),u=n("lJxs");const p=[{id:1,name:"Dragon Burning Cities"},{id:2,name:"Sky Rains Great White Sharks"},{id:3,name:"Giant Asteroid Heading For Earth"},{id:4,name:"Procrastinators Meeting Delayed Again"}];var g=n("OdHV");let f=(()=>{class e{constructor(e){this.messageService=e,this.crises$=new b.a(p)}getCrises(){return this.crises$}getCrisis(e){return this.getCrises().pipe(Object(u.a)(t=>t.find(t=>t.id===+e)))}addCrisis(t){if(t=t.trim()){const n={id:e.nextCrisisId++,name:t};p.push(n),this.crises$.next(p)}}}return e.nextCrisisId=100,e.\u0275fac=function(t){return new(t||e)(a.Ub(g.a))},e.\u0275prov=a.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const m=function(e){return[e]};function h(e,t){if(1&e&&(a.Qb(0,"li"),a.Qb(1,"a",2),a.Qb(2,"span",3),a.uc(3),a.Pb(),a.uc(4),a.Pb(),a.Pb()),2&e){const e=t.$implicit,n=a.Zb();a.Db("selected",e.id===n.selectedId),a.Bb(1),a.ec("routerLink",a.gc(5,m,e.id)),a.Bb(2),a.vc(e.id),a.Bb(1),a.wc("",e.name," ")}}let v=(()=>{class e{constructor(e,t){this.service=e,this.route=t}ngOnInit(){this.crises$=this.route.paramMap.pipe(Object(l.a)(e=>(this.selectedId=+e.get("id"),this.service.getCrises())))}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(f),a.Lb(s.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-crisis-list"]],decls:4,vars:3,consts:[[1,"crises"],[3,"selected",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge"]],template:function(e,t){1&e&&(a.Qb(0,"ul",0),a.tc(1,h,5,7,"li",1),a.ac(2,"async"),a.Pb(),a.Mb(3,"router-outlet")),2&e&&(a.Bb(1),a.ec("ngForOf",a.bc(2,1,t.crises$)))},directives:[r.j,s.g,s.e],pipes:[r.b],styles:[".crises[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:24em}.crises[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px}.crises[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#607d8b;background-color:#ddd;left:.1em}.crises[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#888;text-decoration:none;display:block}.crises[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#607d8b}.crises[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#607d8b;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;min-width:16px;text-align:right;margin-right:.8em;border-radius:4px 0 0 4px}button[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;font-family:Arial}button[_ngcontent-%COMP%]:hover{background-color:#cfd8dc}button.delete[_ngcontent-%COMP%]{position:relative;left:194px;top:-32px;background-color:grey!important;color:#fff}.crises[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.crises[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#bbd8dc}"]}),e})(),C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Fb({type:e,selectors:[["app-crisis-center"]],decls:3,vars:0,template:function(e,t){1&e&&(a.Qb(0,"h2"),a.uc(1,"CRISIS CENTER"),a.Pb(),a.Mb(2,"router-outlet"))},directives:[s.g],styles:[""]}),e})();var P=n("LRne");let O=(()=>{class e{confirm(e){const t=window.confirm(e||"Is it OK?");return Object(P.a)(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=n("kmnG");function y(e,t){if(1&e){const e=a.Rb();a.Qb(0,"form"),a.Qb(1,"h3"),a.uc(2),a.Pb(),a.Qb(3,"div"),a.Qb(4,"mat-label"),a.uc(5,"Id: "),a.Pb(),a.uc(6),a.Pb(),a.Qb(7,"div"),a.Qb(8,"mat-label"),a.uc(9,"Name: "),a.Pb(),a.Qb(10,"input",3),a.Xb("ngModelChange",function(t){return a.jc(e),a.Zb().editName=t}),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=a.Zb();a.Bb(2),a.wc('"',e.editName,'"'),a.Bb(4),a.vc(e.crisis.id),a.Bb(4),a.ec("ngModel",e.editName)}}let k=(()=>{class e{constructor(e,t,n){this.route=e,this.router=t,this.dialogService=n}ngOnInit(){this.route.data.subscribe(e=>{this.editName=e.crisis.name,this.crisis=e.crisis})}cancel(){this.gotoCrises()}save(){this.crisis.name=this.editName,this.gotoCrises()}canDeactivate(){return!this.crisis||this.crisis.name===this.editName||this.dialogService.confirm("Discard changes?")}gotoCrises(){this.router.navigate(["../",{id:this.crisis?this.crisis.id:null,foo:"foo"}],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(s.a),a.Lb(s.b),a.Lb(O))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-crisis-detail"]],decls:5,vars:1,consts:[[4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"],["matInput","","placeholder","name","name","crisis-input",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(a.tc(0,y,11,3,"form",0),a.Qb(1,"button",1),a.Xb("click",function(){return t.save()}),a.uc(2,"Save"),a.Pb(),a.Qb(3,"button",2),a.Xb("click",function(){return t.cancel()}),a.uc(4,"Cancel"),a.Pb()),2&e&&a.ec("ngIf",t.crisis)},directives:[r.k,o.a,i.j,i.g,i.h,M.d,c.a,i.a,i.f,i.i],styles:["input[_ngcontent-%COMP%]{width:20em}"]}),e})(),w=(()=>{class e{canDeactivate(e){return!e.canDeactivate||e.canDeactivate()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=n("EY2u"),_=n("IzEk"),x=n("5+tZ");const Q=[{path:"",component:C,children:[{path:"",component:v,children:[{path:":id",component:k,canDeactivate:[w],resolve:{crisis:(()=>{class e{constructor(e,t){this.cs=e,this.router=t}resolve(e,t){const n=e.paramMap.get("id");return this.cs.getCrisis(n).pipe(Object(_.a)(1),Object(x.a)(e=>e?Object(P.a)(e):(this.router.navigate(["/crisis-center"]),I.a)))}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(f),a.Ub(s.b))},e.\u0275prov=a.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}},{path:"",component:d}]}]}];let j=(()=>{class e{}return e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({factory:function(t){return new(t||e)},imports:[[s.f.forChild(Q)],s.f]}),e})(),D=(()=>{class e{}return e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({factory:function(t){return new(t||e)},imports:[[r.c,i.c,j,o.b,c.b]]}),e})()}}]);