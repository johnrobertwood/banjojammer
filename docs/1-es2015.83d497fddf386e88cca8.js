(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+KNX":function(e){e.exports=JSON.parse('{"name":"@aws-sdk/client-cognito-identity","description":"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native","version":"1.0.0-rc.4","scripts":{"clean":"npm run remove-definitions && npm run remove-dist","build-documentation":"npm run clean && typedoc ./","prepublishOnly":"yarn build","pretest":"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js","test":"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json","build":"yarn build:cjs && yarn build:es"},"main":"./dist/cjs/index.js","types":"./types/index.d.ts","module":"./dist/es/index.js","browser":{"./runtimeConfig":"./runtimeConfig.browser"},"react-native":{"./runtimeConfig":"./runtimeConfig.native"},"sideEffects":false,"dependencies":{"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"1.0.0-rc.3","@aws-sdk/credential-provider-node":"1.0.0-rc.3","@aws-sdk/fetch-http-handler":"1.0.0-rc.3","@aws-sdk/hash-node":"1.0.0-rc.3","@aws-sdk/invalid-dependency":"1.0.0-rc.3","@aws-sdk/middleware-content-length":"1.0.0-rc.3","@aws-sdk/middleware-host-header":"1.0.0-rc.3","@aws-sdk/middleware-logger":"1.0.0-rc.4","@aws-sdk/middleware-retry":"1.0.0-rc.4","@aws-sdk/middleware-serde":"1.0.0-rc.3","@aws-sdk/middleware-signing":"1.0.0-rc.3","@aws-sdk/middleware-stack":"1.0.0-rc.4","@aws-sdk/middleware-user-agent":"1.0.0-rc.3","@aws-sdk/node-config-provider":"1.0.0-rc.3","@aws-sdk/node-http-handler":"1.0.0-rc.3","@aws-sdk/protocol-http":"1.0.0-rc.3","@aws-sdk/smithy-client":"1.0.0-rc.4","@aws-sdk/types":"1.0.0-rc.3","@aws-sdk/url-parser-browser":"1.0.0-rc.3","@aws-sdk/url-parser-node":"1.0.0-rc.3","@aws-sdk/util-base64-browser":"1.0.0-rc.3","@aws-sdk/util-base64-node":"1.0.0-rc.3","@aws-sdk/util-body-length-browser":"1.0.0-rc.3","@aws-sdk/util-body-length-node":"1.0.0-rc.3","@aws-sdk/util-user-agent-browser":"1.0.0-rc.3","@aws-sdk/util-user-agent-node":"1.0.0-rc.3","@aws-sdk/util-utf8-browser":"1.0.0-rc.3","@aws-sdk/util-utf8-node":"1.0.0-rc.3","tslib":"^2.0.0"},"devDependencies":{"@aws-sdk/client-documentation-generator":"1.0.0-rc.3","@aws-sdk/client-iam":"1.0.0-rc.4","@types/chai":"^4.2.11","@types/mocha":"^7.0.2","@types/node":"^12.7.5","jest":"^26.1.0","rimraf":"^3.0.0","typedoc":"^0.17.8","typescript":"~4.0.2"},"engines":{"node":">=10.0.0"},"author":{"name":"AWS SDK for JavaScript Team","url":"https://aws.amazon.com/javascript/"},"license":"Apache-2.0","homepage":"https://github.com/aws/aws-sdk-js-v3/tree/master/clients/client-cognito-identity","repository":{"type":"git","url":"https://github.com/aws/aws-sdk-js-v3.git","directory":"clients/client-cognito-identity"}}')},"+rSW":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r={userAgent:"aws-amplify/3.8.12 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)switch(r.product=navigator.product||"",r.navigator=navigator||null,navigator.product){case"ReactNative":r.userAgent="aws-amplify/3.8.12 react-native",r.isReactNative=!0;break;default:r.userAgent="aws-amplify/3.8.12 js",r.isReactNative=!1}var i=function(){return r.userAgent}},"+tRG":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("7JaV"),i={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize"},o=function(e){return{applyToStack:function(e){e.add(function(e,t){return function(n){return Object(r.__awaiter)(void 0,void 0,void 0,function(){var i,o,a,s;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return i=t.logger,[4,e(n)];case 1:return o=r.sent(),i?(a=o.response,"function"==typeof i.info&&i.info({metadata:{statusCode:a.statusCode,requestId:null!==(s=a.headers["x-amzn-requestid"])&&void 0!==s?s:a.headers["x-amzn-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]}}),[2,o]):[2,o]}})})}},i)}}}},"/vcS":function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return O}),n.d(t,"i",function(){return j}),n.d(t,"j",function(){return S}),n.d(t,"k",function(){return a}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return v}),n.d(t,"n",function(){return p}),n.d(t,"o",function(){return b}),n.d(t,"p",function(){return m}),n.d(t,"q",function(){return u}),n.d(t,"r",function(){return w}),n.d(t,"s",function(){return d}),n.d(t,"t",function(){return o}),n.d(t,"u",function(){return s}),n.d(t,"v",function(){return r});const r="username",i="email",o="code",a="phone",s="password",c="country-dial-code-select",u="+1",d="amplify-auth-source",l="amplify-redirected-from-hosted-ui",f="amplify-authenticator-authState",h="Phone number can not be empty",g="No Auth module found, please ensure @aws-amplify/auth is imported",p="No Storage module found, please ensure @aws-amplify/storage is imported",v="No Interactions module found, please ensure @aws-amplify/interactions is imported",y="SETUP_TOTP",b="User has not set up software token mfa",m="User has not verified software token mfa",w="SUCCESS",_="auth",j="UI Auth",O="ToastAuthError",S="AuthStateChange"},"2Lx6":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r={},i=function(){function e(){}return e.setItem=function(e,t){return r[e]=t,r[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0},e.removeItem=function(e){return delete r[e]},e.clear=function(){return r={}},e}(),o=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=i}}return e.prototype.getStorage=function(){return this.storageWindow},e}()},"2XnK":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7JaV");function i(e){var t,n,i={};if(e=e.replace(/^\?/,""))try{for(var o=Object(r.__values)(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value,c=Object(r.__read)(s.split("="),2),u=c[0],d=c[1],l=void 0===d?null:d;u=decodeURIComponent(u),l&&(l=decodeURIComponent(l)),u in i?Array.isArray(i[u])?i[u].push(l):i[u]=[i[u],l]:i[u]=l}}catch(f){t={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}},"3tHY":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("7JaV"),i=n("TARy");function o(e){var t,n,o=[];try{for(var a=Object(r.__values)(Object.keys(e).sort()),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];if(c=Object(i.a)(c),Array.isArray(u))for(var d=0,l=u.length;d<l;d++)o.push(c+"="+Object(i.a)(u[d]));else{var f=c;(u||"string"==typeof u)&&(f+="="+Object(i.a)(u)),o.push(f)}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.join("&")}},"7Z+r":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});for(var r={},i={},o=0;o<256;o++){var a=o.toString(16).toLowerCase();1===a.length&&(a="0"+a),r[o]=a,i[a]=o}function s(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in i))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=i[r]}return t}function c(e){for(var t="",n=0;n<e.byteLength;n++)t+=r[e[n]];return t}},"87YT":function(e,t,n){"use strict";function r(e){return e}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return s});var i=n("7JaV"),o=n("Enk7"),a={name:"getUserAgentMiddleware",step:"build",tags:["SET_USER_AGENT","USER_AGENT"]},s=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e){return function(t){var r=t.request;if(!o.a.isInstance(r))return e(t);var a=r.headers,s="node"===n.runtime?"user-agent":"x-amz-user-agent";return a[s]?a[s]+=" "+n.defaultUserAgent:a[s]=""+n.defaultUserAgent,n.customUserAgent&&(a[s]+=" "+n.customUserAgent),e(Object(i.__assign)(Object(i.__assign)({},t),{request:r}))}}),a)}}}},E3Vg:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map(function(e){return e.toString(16)}).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},EI00:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return l}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return v}),n.d(t,"d",function(){return y});var r=n("7JaV"),i=function(){var e=[],t=[],n=new Set,s=function(n){return e.forEach(function(e){n.add(e.middleware,Object(r.__assign)({},e))}),t.forEach(function(e){n.addRelativeTo(e.middleware,Object(r.__assign)({},e))}),n},c=function(e){var t=[];return e.before.forEach(function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Object(r.__spread)(c(e)))}),t.push(e),e.after.reverse().forEach(function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Object(r.__spread)(c(e)))}),t},u={add:function(t,i){void 0===i&&(i={});var o=i.name,a=Object(r.__assign)({step:"initialize",priority:"normal",middleware:t},i);if(o){if(n.has(o))throw new Error("Duplicate middleware name '"+o+"'");n.add(o)}e.push(a)},addRelativeTo:function(e,i){var o=i.name,a=Object(r.__assign)({middleware:e},i);if(o){if(n.has(o))throw new Error("Duplicated middleware name '"+o+"'");n.add(o)}t.push(a)},clone:function(){return s(i())},use:function(e){e.applyToStack(u)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=s(i());return t.use(e),t},applyToStack:s,resolve:function(n,i){var s,u;try{for(var d=Object(r.__values)(function(){var n,i=[],s=[],u={};return e.forEach(function(e){var t=Object(r.__assign)(Object(r.__assign)({},e),{before:[],after:[]});t.name&&(u[t.name]=t),i.push(t)}),t.forEach(function(e){var t=Object(r.__assign)(Object(r.__assign)({},e),{before:[],after:[]});t.name&&(u[t.name]=t),s.push(t)}),s.forEach(function(e){if(e.toMiddleware){var t=u[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}),(n=i,n.sort(function(e,t){return o[t.step]-o[e.step]||a[t.priority||"normal"]-a[e.priority||"normal"]})).map(c).reduce(function(e,t){return e.push.apply(e,Object(r.__spread)(t)),e},[]).map(function(e){return e.middleware})}().reverse()),l=d.next();!l.done;l=d.next())n=(0,l.value)(n,i)}catch(f){s={error:f}}finally{try{l&&!l.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}return n}};return u},o={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},a={high:3,normal:2,low:1},s=function(){function e(e){this.middlewareStack=i(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"==typeof t?t:n,i=e.resolveMiddleware(this.middlewareStack,this.config,"function"!=typeof t?t:void 0);if(!r)return i(e).then(function(e){return e.output});i(e).then(function(e){return r(null,e.output)},function(e){return r(e)}).catch(function(){})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),c=function(){this.middlewareStack=i()};function u(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}var d=function(e){return Array.isArray(e)?e:[e]},l=function(e){for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]["#text"]?e[t]=e[t]["#text"]:"object"==typeof e[t]&&null!==e[t]&&(e[t]=l(e[t]));return e},f=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Object(r.__spread)([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};f.prototype=Object.create(String.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(f,String);var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))},t}(f),g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function v(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds();return g[r]+", "+(i<10?"0"+i:""+i)+" "+p[n]+" "+t+" "+(o<10?"0"+o:""+o)+":"+(a<10?"0"+a:""+a)+":"+(s<10?"0"+s:""+s)+" GMT"}var y="***SensitiveInformation***"},Enk7:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){return!!e&&"number"==typeof e.statusCode&&"object"==typeof e.headers},e}(),i=n("7JaV"),o=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){return!!e&&"method"in e&&"protocol"in e&&"hostname"in e&&"path"in e&&"object"==typeof e.query&&"object"==typeof e.headers},e.prototype.clone=function(){var t,n=new e(Object(i.__assign)(Object(i.__assign)({},this),{headers:Object(i.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce(function(e,n){var r,o=t[n];return Object(i.__assign)(Object(i.__assign)({},e),((r={})[n]=Array.isArray(o)?Object(i.__spread)(o):o,r))},{}))),n},e}()},GDOE:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)}},J2eM:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(){throw new Error(e)}}},LUnR:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var r=n("7JaV"),i=n("Enk7"),o=n("3tHY"),a=function(){function e(e){void 0===e&&(e={}),this.httpOptions=e}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=null==t?void 0:t.abortSignal,a=this.httpOptions.requestTimeout;if(null==n?void 0:n.aborted){var s=new Error("Request aborted");return s.name="AbortError",Promise.reject(s)}var c=e.path;if(e.query){var u=Object(o.a)(e.query);u&&(c+="?"+u)}var d=e.port,l=e.protocol+"//"+e.hostname+(d?":"+d:"")+c,f={body:e.body,headers:new Headers(e.headers),method:e.method};"undefined"!=typeof AbortController&&(f.signal=n);var h,g=new Request(l,f),p=[fetch(g).then(function(e){var t,n,o=e.headers,a={};try{for(var s=Object(r.__values)(o.entries()),c=s.next();!c.done;c=s.next()){var u=c.value;a[u[0]]=u[1]}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new i.b({headers:a,statusCode:e.status,body:e.body})}:e.blob().then(function(t){return{response:new i.b({headers:a,statusCode:e.status,body:t})}})}),(h=a,void 0===h&&(h=0),new Promise(function(e,t){h&&setTimeout(function(){var e=new Error("Request did not complete within "+h+" ms");e.name="TimeoutError",t(e)},h)}))];return n&&p.push(new Promise(function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}})),Promise.race(p)},e}(),s=n("S3Uu"),c=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,u(e)];case 1:return t=r.sent(),n=Object(s.a)(t),[2,new Uint8Array(n)]}})})}(e):function(e){return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,a,s,c;return Object(r.__generator)(this,function(r){switch(r.label){case 0:t=new Uint8Array(0),n=e.getReader(),i=!1,r.label=1;case 1:return i?[3,3]:[4,n.read()];case 2:return o=r.sent(),a=o.done,(s=o.value)&&(c=t,(t=new Uint8Array(c.length+s.length)).set(c),t.set(s,c.length)),i=a,[3,1];case 3:return[2,t]}})})}(e)};function u(e){return new Promise(function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(",");t(i.substring(o>-1?o+1:i.length))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)})}},N9sX:function(e,t,n){"use strict";function r(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}n.d(t,"a",function(){return r})},Nl9j:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n("7JaV"),i=n("Enk7");function o(e){return e}var a={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"]},s=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Object(r.__awaiter)(void 0,void 0,void 0,function(){var o,a;return Object(r.__generator)(this,function(r){return i.a.isInstance(n.request)?(o=n.request,(void 0===(a=(e.requestHandler.metadata||{}).handlerProtocol)?"":a).indexOf("h2")>=0&&!o.headers[":authority"]?(delete o.headers.host,o.headers[":authority"]=""):o.headers.host||(o.headers.host=o.hostname),[2,t(n)]):[2,t(n)]})})}}}(e),a)}}}},Nt7R:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},o={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},a=function(){function e(e,t){void 0===t&&(t="WARN"),this.name=e,this.level=t}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype._log=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.level;e.LOG_LEVEL&&(i=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(i=window.LOG_LEVEL);var a=o[i],s=o[t];if(s>=a){var c=console.log.bind(console);"ERROR"===t&&console.error&&(c=console.error.bind(console)),"WARN"===t&&console.warn&&(c=console.warn.bind(console));var u="["+t+"] "+this._ts()+" "+this.name;if(1===n.length&&"string"==typeof n[0])c(u+" - "+n[0]);else if(1===n.length)c(u,n[0]);else if("string"==typeof n[0]){var d=n.slice(1);1===d.length&&(d=d[0]),c(u+" - "+n[0],d)}else c(u,n)}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,i(["INFO"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,i(["INFO"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,i(["WARN"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,i(["ERROR"],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,i(["DEBUG"],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,i(["VERBOSE"],e))},e.LOG_LEVEL=null,e}()},NtRE:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n("7JaV"),i=function(e){var t;return Object(r.__assign)(Object(r.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?o(e):function(){return a(e)},isCustomEndpoint:!!e.endpoint})},o=function(e){var t=e.endpoint;if("string"==typeof t){var n=Promise.resolve((0,e.urlParser)(t));return function(){return n}}if("object"==typeof t){var r=Promise.resolve(t);return function(){return r}}return t},a=function(e){return Object(r.__awaiter)(void 0,void 0,void 0,function(){var t,n,i,o,a;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return n=void 0===(t=e.tls)||t,[4,e.region()];case 1:if(i=r.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(i))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(i)];case 2:if(!(o=(null!==(a=r.sent())&&void 0!==a?a:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+o)]}})})},s=function(e){if(!e.region)throw new Error("Region is missing");return Object(r.__assign)(Object(r.__assign)({},e),{region:c(e.region)})},c=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},R10A:function(e,t,n){"use strict";n.d(t,"a",function(){return qt});var r,i=n("Nt7R"),o=n("2Lx6"),a=n("HzrR"),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},u=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e},d=new i.a("Util"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return s(t,e),t}(Error);function f(e,t,n,r){return void 0===r&&(r=1),i=this,void 0,a=function(){var i,o;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(a){switch(a.label){case 0:if("function"!=typeof e)throw Error("functionToRetry must be a function");d.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,e.apply(void 0,u(t))];case 2:return[2,a.sent()];case 3:if(i=a.sent(),d.debug("error on "+e.name,i),(s=i)&&s.nonRetryable)throw d.debug(e.name+" non retryable error",i),i;return o=n(r,t,i),d.debug(e.name+" retrying in "+o+" ms"),!1===o?[3,6]:[4,new Promise(function(e){return setTimeout(e,o)})];case 4:return a.sent(),[4,f(e,t,n,r+1)];case 5:return[2,a.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}var s})},new((o=void 0)||(o=Promise))(function(e,t){function n(e){try{s(a.next(e))}catch(n){t(n)}}function r(e){try{s(a.throw(e))}catch(n){t(n)}}function s(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o(function(e){e(i)})).then(n,r)}s((a=a.apply(i,[])).next())});var i,o,a}var h,g,p,v,y,b,m,w,_,j,O,S,k,I,E,x,C,A,R,T,P,L,z,N,D,q,U,M,F,$,G,H,J,K,V,W,B,X,Y,Z,Q,ee,te,ne,re,ie,oe,ae,se,ce,ue,de,le,fe,he,ge,pe,ve=new i.a("CognitoCredentials"),ye=new Promise(function(e,t){return Object(a.b)().isBrowser?window.gapi&&window.gapi.auth2&&window.gapi.auth2?(ve.debug("google api already loaded"),e()):void setTimeout(function(){return e()},2e3):(ve.debug("not in the browser, directly resolved"),e())}),be=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return e=this,void 0,n=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(e){switch(e.label){case 0:return this.initialized?[3,2]:(ve.debug("need to wait for the Google SDK loaded"),[4,ye]);case 1:e.sent(),this.initialized=!0,ve.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Object(a.b)().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise(function(t,n){e.getAuthInstance().then(function(e){e||(ve.debug("google Auth undefined"),n(new l("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(ve.debug("refreshing the google access token"),r.reloadAuthResponse().then(function(e){t({token:e.id_token,expires_at:e.expires_at})}).catch(function(e){n(e&&"network_error"===e.error?"Network error reloading google auth response":new l("Failed to reload google auth response"))})):n(new l("User is not signed in with Google"))}).catch(function(e){ve.debug("Failed to refresh google token",e),n(new l("Failed to refresh google token"))})}):(ve.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),me=new i.a("CognitoCredentials"),we=new Promise(function(e,t){return Object(a.b)().isBrowser?window.FB?(me.debug("FB SDK already loaded"),e()):void setTimeout(function(){return e()},2e3):(me.debug("not in the browser, directly resolved"),e())}),_e=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return e=this,void 0,n=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(e){switch(e.label){case 0:return this.initialized?[3,2]:(me.debug("need to wait for the Facebook SDK loaded"),[4,we]);case 1:e.sent(),this.initialized=!0,me.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.prototype._refreshFacebookTokenImpl=function(){var e=null;return Object(a.b)().isBrowser&&(e=window.FB),e?new Promise(function(t,n){e.getLoginStatus(function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();i||(me.debug(a="the jwtToken is undefined"),n(new l(a))),t({token:i,expires_at:o})}else{var a;me.debug(a="no response from facebook when refreshing the jwt token"),n(new l(a))}},{scope:"public_profile,email"})}):(me.debug("no fb sdk available"),Promise.reject(new l("no fb sdk available")))},e}(),je=new be,Oe=new _e,Se=n("+rSW"),ke=n("fQM2"),Ie=n("7JaV"),Ee=n("mrSG");!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(h||(h={})),(g||(g={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(p||(p={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(v||(v={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(y||(y={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(b||(b={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(m||(m={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(w||(w={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(_||(_={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(j||(j={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(O||(O={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(S||(S={})),(k||(k={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(I||(I={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(E||(E={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(x||(x={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(C||(C={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(A||(A={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(R||(R={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(T||(T={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(P||(P={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(L||(L={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(z||(z={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(N||(N={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(D||(D={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(q||(q={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(U||(U={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(M||(M={})),(F||(F={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},($||($={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},function(e){e.RULES="Rules",e.TOKEN="Token"}(G||(G={})),(H||(H={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(J||(J={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(K||(K={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(V||(V={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(W||(W={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(B||(B={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(X||(X={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(Y||(Y={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(Z||(Z={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(Q||(Q={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(ee||(ee={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(te||(te={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(ne||(ne={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(re||(re={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(ie||(ie={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(oe||(oe={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(ae||(ae={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(se||(se={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(ce||(ce={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(ue||(ue={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(de||(de={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(le||(le={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(fe||(fe={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(he||(he={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(ge||(ge={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)},(pe||(pe={})).filterSensitiveLog=function(e){return Object(Ee.a)({},e)};var xe=n("Enk7"),Ce=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n,r,i,o,a,s,c,u,d,l,f,h,g,p,v,y;return Object(Ee.e)(this,function(b){switch(b.label){case 0:return r=[Object(Ee.a)({},e)],y={},[4,Qe(e.body,t)];case 1:switch(n=Ee.a.apply(void 0,r.concat([(y.body=b.sent(),y)])),o="UnknownError",a=n.body.__type.split("#"),o=void 0===a[1]?a[0]:a[1]){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,Re(n,t)];case 3:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,s.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 4:return c=[{}],[4,Te(n,t)];case 5:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,c.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 6:return u=[{}],[4,Pe(n,t)];case 7:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,u.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 8:return d=[{}],[4,Le(n,t)];case 9:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,d.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 10:return l=[{}],[4,Ne(n,t)];case 11:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,l.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 12:return f=[{}],[4,De(n,t)];case 13:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,f.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 14:return h=[{}],[4,qe(n,t)];case 15:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,h.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 16:return g=[{}],[4,Ue(n,t)];case 17:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,g.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 18:o=(p=n.body).code||p.Code||o,i=Object(Ee.a)(Object(Ee.a)({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Ye(e)}),b.label=19;case 19:return i.message=v=i.message||i.Message||o,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}})})},Ae=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n,r,i,o,a,s,c,u,d,l,f,h,g,p,v,y;return Object(Ee.e)(this,function(b){switch(b.label){case 0:return r=[Object(Ee.a)({},e)],y={},[4,Qe(e.body,t)];case 1:switch(n=Ee.a.apply(void 0,r.concat([(y.body=b.sent(),y)])),o="UnknownError",a=n.body.__type.split("#"),o=void 0===a[1]?a[0]:a[1]){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,Re(n,t)];case 3:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,s.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 4:return c=[{}],[4,Te(n,t)];case 5:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,c.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 6:return u=[{}],[4,Le(n,t)];case 7:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,u.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 8:return d=[{}],[4,ze(n,t)];case 9:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,d.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 10:return l=[{}],[4,Ne(n,t)];case 11:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,l.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 12:return f=[{}],[4,De(n,t)];case 13:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,f.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 14:return h=[{}],[4,qe(n,t)];case 15:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,h.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 16:return g=[{}],[4,Ue(n,t)];case 17:return i=Ee.a.apply(void 0,[Ee.a.apply(void 0,g.concat([b.sent()])),{name:o,$metadata:Ye(e)}]),[3,19];case 18:o=(p=n.body).code||p.Code||o,i=Object(Ee.a)(Object(Ee.a)({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Ye(e)}),b.label=19;case 19:return i.message=v=i.message||i.Message||o,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}})})},Re=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n;return Object(Ee.e)(this,function(r){return n=$e(e.body,t),[2,Object(Ee.a)({name:"ExternalServiceException",$fault:"client",$metadata:Ye(e)},n)]})})},Te=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n;return Object(Ee.e)(this,function(r){return n=Ge(e.body,t),[2,Object(Ee.a)({name:"InternalErrorException",$fault:"server",$metadata:Ye(e)},n)]})})},Pe=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n;return Object(Ee.e)(this,function(r){return n=He(e.body,t),[2,Object(Ee.a)({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Ye(e)},n)]})})},Le=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n;return Object(Ee.e)(this,function(r){return n=Je(e.body,t),[2,Object(Ee.a)({name:"InvalidParameterException",$fault:"client",$metadata:Ye(e)},n)]})})},ze=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n;return Object(Ee.e)(this,function(r){return n=Ke(e.body,t),[2,Object(Ee.a)({name:"LimitExceededException",$fault:"client",$metadata:Ye(e)},n)]})})},Ne=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n;return Object(Ee.e)(this,function(r){return n=Ve(e.body,t),[2,Object(Ee.a)({name:"NotAuthorizedException",$fault:"client",$metadata:Ye(e)},n)]})})},De=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n;return Object(Ee.e)(this,function(r){return n=We(e.body,t),[2,Object(Ee.a)({name:"ResourceConflictException",$fault:"client",$metadata:Ye(e)},n)]})})},qe=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n;return Object(Ee.e)(this,function(r){return n=Be(e.body,t),[2,Object(Ee.a)({name:"ResourceNotFoundException",$fault:"client",$metadata:Ye(e)},n)]})})},Ue=function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n;return Object(Ee.e)(this,function(r){return n=Xe(e.body,t),[2,Object(Ee.a)({name:"TooManyRequestsException",$fault:"client",$metadata:Ye(e)},n)]})})},Me=function(e,t){return Object.entries(e).reduce(function(e,t){var n,r=Object(Ee.g)(t,2),i=r[0],o=r[1];return Object(Ee.a)(Object(Ee.a)({},e),((n={})[i]=o,n))},{})},Fe=function(e,t){return{AccessKeyId:null!=e.AccessKeyId?e.AccessKeyId:void 0,Expiration:null!=e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:null!=e.SecretKey?e.SecretKey:void 0,SessionToken:null!=e.SessionToken?e.SessionToken:void 0}},$e=function(e,t){return{message:null!=e.message?e.message:void 0}},Ge=function(e,t){return{message:null!=e.message?e.message:void 0}},He=function(e,t){return{message:null!=e.message?e.message:void 0}},Je=function(e,t){return{message:null!=e.message?e.message:void 0}},Ke=function(e,t){return{message:null!=e.message?e.message:void 0}},Ve=function(e,t){return{message:null!=e.message?e.message:void 0}},We=function(e,t){return{message:null!=e.message?e.message:void 0}},Be=function(e,t){return{message:null!=e.message?e.message:void 0}},Xe=function(e,t){return{message:null!=e.message?e.message:void 0}},Ye=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers["x-amzn-requestid"]}},Ze=function(e,t,n,r,i){return Object(Ee.b)(void 0,void 0,void 0,function(){var o,a,s;return Object(Ee.e)(this,function(c){switch(c.label){case 0:return[4,e.endpoint()];case 1:return o=c.sent(),s={protocol:void 0===(a=o.protocol)?"https":a,hostname:o.hostname,port:o.port,method:"POST",path:n,headers:t},void 0!==r&&(s.hostname=r),void 0!==i&&(s.body=i),[2,new xe.a(s)]}})})},Qe=function(e,t){return function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then(function(e){return t.utf8Encoder(e)})}(e,t).then(function(e){return e.length?JSON.parse(e):{}})},et=n("mRvm"),tt=n("EI00"),nt=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(Ee.d)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(et.a)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i=t.logger,o={logger:i,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:P.filterSensitiveLog,outputFilterSensitiveLog:z.filterSensitiveLog};"function"==typeof i.info&&i.info({clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand"});var a=t.requestHandler;return r.resolve(function(e){return a.handle(e.request,n||{})},o)},t.prototype.serialize=function(e,t){return function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n,r;return Object(Ee.e)(this,function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(function(e,t){return Object(Ee.a)(Object(Ee.a)(Object(Ee.a)({},void 0!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&{Logins:Me(e.Logins)})}(e)),[2,Ze(t,n,"/",void 0,r)]})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n,r,i;return Object(Ee.e)(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Ce(e,t)]:[4,Qe(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{Credentials:null!=e.Credentials?Fe(e.Credentials):void 0,IdentityId:null!=e.IdentityId?e.IdentityId:void 0}}(n),i=Object(Ee.a)({$metadata:Ye(e)},r),[2,Promise.resolve(i)]}})})}(e,t)},t}(tt.b),rt=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return Object(Ie.__extends)(t,e),t}(Error);function it(e){return Promise.all(Object.keys(e).reduce(function(t,n){var r=e[n];return t.push("string"==typeof r?[n,r]:r().then(function(e){return[n,e]})),t},[])).then(function(e){return e.reduce(function(e,t){var n=Object(Ie.__read)(t,2);return e[n[0]]=n[1],e},{})})}function ot(e){var t=this;return function(){return Object(Ie.__awaiter)(t,void 0,void 0,function(){var t,n,r,i,o,a,s,c,u,d,l,f;return Object(Ie.__generator)(this,function(h){switch(h.label){case 0:return u=(c=e.client).send,d=nt.bind,f={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,it(e.logins)]:[3,2];case 1:return l=h.sent(),[3,3];case 2:l=void 0,h.label=3;case 3:return[4,u.apply(c,[new(d.apply(nt,[void 0,(f.Logins=l,f)]))])];case 4:return t=h.sent().Credentials,n=void 0===t?function(){throw new rt("Response from Amazon Cognito contained no credentials")}():t,i=void 0===(r=n.AccessKeyId)?function(){throw new rt("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,s=void 0===(a=n.SecretKey)?function(){throw new rt("Response from Amazon Cognito contained no secret key")}():a,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:s,sessionToken:n.SessionToken,expiration:o}]}})})}}var at=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(Ee.d)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(et.a)(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i=t.logger,o={logger:i,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:D.filterSensitiveLog,outputFilterSensitiveLog:q.filterSensitiveLog};"function"==typeof i.info&&i.info({clientName:"CognitoIdentityClient",commandName:"GetIdCommand"});var a=t.requestHandler;return r.resolve(function(e){return a.handle(e.request,n||{})},o)},t.prototype.serialize=function(e,t){return function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n,r;return Object(Ee.e)(this,function(i){return n={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(function(e,t){return Object(Ee.a)(Object(Ee.a)(Object(Ee.a)({},void 0!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&{Logins:Me(e.Logins)})}(e)),[2,Ze(t,n,"/",void 0,r)]})})}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(Ee.b)(void 0,void 0,void 0,function(){var n,r,i;return Object(Ee.e)(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Ae(e,t)]:[4,Qe(e.body,t)];case 1:return n=o.sent(),r=function(e,t){return{IdentityId:null!=e.IdentityId?e.IdentityId:void 0}}(n),i=Object(Ee.a)({$metadata:Ye(e)},r),[2,Promise.resolve(i)]}})})}(e,t)},t}(tt.b),st=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",function(t){var n=t.get(e);return new Promise(function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}})}).catch(function(){return null})},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",function(t){var n=t.delete(e);return new Promise(function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}})})},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",function(n){var r=n.put({id:e,value:t});return new Promise(function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}})})},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore("IdentityIds",{keyPath:"id"})}})},e.prototype.withObjectStore=function(e,t){return this.getDb().then(function(n){var r=n.transaction("IdentityIds",e);return r.oncomplete=function(){return n.close()},new Promise(function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore("IdentityIds")))}).catch(function(e){throw n.close(),e})})},e}(),ct=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}()),ut=n("+KNX"),dt=n("viNG"),lt=n("LUnR"),ft=n("J2eM"),ht=n("UMev"),gt=n("c14h"),pt=n("S3Uu"),vt=n("N9sX"),yt=n("wU8f"),bt=n("E3Vg"),mt="cognito-identity.{region}.amazonaws.com",wt=new Set(["ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),_t=new Set(["cn-north-1","cn-northwest-1"]),jt=new Set(["us-iso-east-1"]),Ot=new Set(["us-isob-east-1"]),St=new Set(["us-gov-east-1","us-gov-west-1"]),kt={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:wt.has(e)&&(n={hostname:mt.replace("{region}",e),partition:"aws"}),_t.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),jt.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Ot.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),St.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:mt.replace("{region}",e),partition:"aws"})}return Promise.resolve(n)},signingName:"cognito-identity"},It=Object(Ee.a)(Object(Ee.a)({},kt),{runtime:"browser",base64Decoder:pt.a,base64Encoder:pt.b,bodyLengthChecker:vt.a,credentialDefaultProvider:function(){},defaultUserAgent:Object(yt.a)(ut.name,ut.version),maxAttempts:ht.a,region:Object(ft.a)("Region is missing"),requestHandler:new lt.a,sha256:dt.Sha256,streamCollector:lt.b,urlParser:gt.a,utf8Decoder:bt.a,utf8Encoder:bt.b}),Et=n("NtRE"),xt=n("naxo"),Ct=n("Nl9j"),At=n("+tRG"),Rt=n("qcsT"),Tt=n("87YT"),Pt=function(e){function t(t){var n=this,r=Object(Ee.a)(Object(Ee.a)({},It),t),i=Object(Et.b)(r),o=Object(Et.a)(i),a=Object(Rt.b)(o),s=Object(ht.c)(a),c=Object(Tt.b)(s),u=Object(Ct.b)(c);return(n=e.call(this,u)||this).config=u,n.middlewareStack.use(Object(ht.b)(n.config)),n.middlewareStack.use(Object(Tt.a)(n.config)),n.middlewareStack.use(Object(xt.a)(n.config)),n.middlewareStack.use(Object(Ct.a)(n.config)),n.middlewareStack.use(Object(At.a)(n.config)),n}return Object(Ee.d)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(tt.a),Lt=function(){return(Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},zt=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},Nt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Dt=new i.a("Credentials"),qt=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=je.refreshGoogleToken,this._refreshHandlers.facebook=Oe.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Lt(Lt({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new o.a).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return Dt.debug("getting credentials"),this._pickupCredentials()},e.prototype._pickupCredentials=function(){return Dt.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Dt.debug("getting old cred promise"):(Dt.debug("getting new cred promise"),this._gettingCredPromise=Object(a.e)(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return zt(this,void 0,void 0,function(){var e,t,n,r,i,o,a;return Nt(this,function(s){switch(s.label){case 0:if(Dt.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Dt.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Dt.debug("need to get a new credential or refresh the existing one"),!(n=void 0===(t=this.Auth)?ke.a.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Dt.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=s.sent(),[4,n.currentSession()];case 3:return i=s.sent(),o=i.refreshToken,[4,new Promise(function(e,t){r.refreshSession(o,function(n,r){return n?t(n):e(r)})})];case 4:return s.sent(),[3,6];case 5:return a=s.sent(),Dt.debug("Error attempting to refreshing the session",a),[3,6];case 6:return[2,n.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(e){Dt.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;return o=1970===new Date(o).getFullYear()?1e3*o:o,Dt.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(Dt.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):this._refreshHandlers[t]&&"function"==typeof this._refreshHandlers[t]?(Dt.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:this._refreshHandlers[t],provider:t,user:n})):(Dt.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t,n,r,i=this,o=e.provider,a=e.user;return(t=e.refreshHandler,n=[],r=1e4,void 0===r&&(r=3e5),f(t,n,function(e){return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(r))).then(function(e){return Dt.debug("refresh federated token sucessfully",e),i._setCredentialsFromFederation({provider:o,token:e.token,user:a,identity_id:e.identity_id,expires_at:e.expires_at})}).catch(function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||i.clear(),Dt.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)})},e.prototype._isExpired=function(e){if(!e)return Dt.debug("no credentials for expiration check"),!0;Dt.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return zt(this,void 0,void 0,function(){var e,t,n,r,i,o,a,s=this;return Nt(this,function(c){switch(c.label){case 0:if(Dt.debug("setting credentials for guest"),t=(e=this._config).identityPoolId,n=e.region,e.mandatorySignIn)return[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")];if(!t)return Dt.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")];if(!n)return Dt.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")];r=void 0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this._storageSync];case 2:return c.sent(),r=this._storage.getItem("CognitoIdentityId-"+t),this._identityId=r,[3,4];case 3:return i=c.sent(),Dt.debug("Failed to get the cached identityId",i),[3,4];case 4:return o=new Pt({region:n,customUserAgent:Object(Se.b)()}),a=void 0,a=r?ot({identityId:r,client:o})():zt(s,void 0,void 0,function(){var e;return Nt(this,function(n){switch(n.label){case 0:return[4,o.send(new at({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,ot({client:o,identityId:e})()]}})}).catch(function(e){return zt(s,void 0,void 0,function(){return Nt(this,function(t){throw e})})}),[2,this._loadCredentials(a,"guest",!1,null).then(function(e){return e}).catch(function(e){return zt(s,void 0,void 0,function(){var n=this;return Nt(this,function(i){return"ResourceNotFoundException"===e.name&&e.message==="Identity '"+r+"' not found."?(Dt.debug("Failed to load guest credentials"),this._storage.removeItem("CognitoIdentityId-"+t),a=zt(n,void 0,void 0,function(){var e;return Nt(this,function(n){switch(n.label){case 0:return[4,o.send(new at({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,ot({client:o,identityId:e})()]}})}).catch(function(e){return zt(n,void 0,void 0,function(){return Nt(this,function(t){throw e})})}),[2,this._loadCredentials(a,"guest",!1,null)]):[2,e]})})})]}})})},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var a=this._config,s=a.identityPoolId,c=a.region;if(!s)return Dt.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!c)return Dt.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var u,d=new Pt({region:c,customUserAgent:Object(Se.b)()});return u=r?ot({identityId:r,logins:o,client:d})():function(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"==typeof self&&self.indexedDB?new st:"object"==typeof window&&window.localStorage?window.localStorage:ct:r,o=e.client,a=e.customRoleArn,s=e.identityPoolId,c=e.logins,u=e.userIdentifier,d=void 0===u?c&&0!==Object.keys(c).length?void 0:"ANONYMOUS":u,l=d?"aws:cognito-identity-credentials:"+s+":"+d:void 0,f=function(){return Object(Ie.__awaiter)(t,void 0,void 0,function(){var e,t,r,u,d,h,g,p,v;return Object(Ie.__generator)(this,function(y){switch(y.label){case 0:return(t=l)?[4,i.getItem(l)]:[3,2];case 1:t=y.sent(),y.label=2;case 2:return(e=t)?[3,7]:(h=(d=o).send,g=at.bind,v={AccountId:n,IdentityPoolId:s},c?[4,it(c)]:[3,4]);case 3:return p=y.sent(),[3,5];case 4:p=void 0,y.label=5;case 5:return[4,h.apply(d,[new(g.apply(at,[void 0,(v.Logins=p,v)]))])];case 6:r=y.sent().IdentityId,u=void 0===r?function(){throw new rt("Response from Amazon Cognito contained no identity ID")}():r,e=u,l&&Promise.resolve(i.setItem(l,e)).catch(function(){}),y.label=7;case 7:return[2,(f=ot({client:o,customRoleArn:a,logins:c,identityId:e}))()]}})})};return function(){return f().catch(function(e){return Object(Ie.__awaiter)(t,void 0,void 0,function(){return Object(Ie.__generator)(this,function(t){throw l&&Promise.resolve(i.removeItem(l)).catch(function(){}),e})})})}}({logins:o,identityPoolId:s,client:d})(),this._loadCredentials(u,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Dt.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,a=r.identityPoolId;if(!a)return Dt.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return Dt.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var s={};s["cognito-idp."+i+".amazonaws.com/"+o]=n;var c=new Pt({region:i,customUserAgent:Object(Se.b)()}),u=zt(t,void 0,void 0,function(){var e;return Nt(this,function(t){switch(t.label){case 0:return[4,c.send(new at({IdentityPoolId:a,Logins:s}))];case 1:return e=t.sent().IdentityId,this._identityId=e,[2,ot({client:c,logins:s,identityId:e})()]}})}).catch(function(e){return zt(t,void 0,void 0,function(){return Nt(this,function(t){throw e})})});return this._loadCredentials(u,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this,a=this._config.identityPoolId;return new Promise(function(s,c){e.then(function(e){return zt(i,void 0,void 0,function(){var i,c,u,d,l,f;return Nt(this,function(h){switch(h.label){case 0:if(Dt.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),c=r.provider,u=r.token,d=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:c,token:u,user:i,expires_at:d,identity_id:l}))}catch(g){Dt.debug("Failed to put federated info into auth storage",g)}}if("guest"!==t)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this._storageSync];case 2:return h.sent(),this._storage.setItem("CognitoIdentityId-"+a,e.identityId),[3,4];case 3:return f=h.sent(),Dt.debug("Failed to cache identityId",f),[3,4];case 4:return s(o._credentials),[2]}})})}).catch(function(t){if(t)return Dt.debug("Failed to load credentials",e),Dt.debug("Error loading credentials",t),void c(t)})})},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Dt.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return zt(this,void 0,void 0,function(){return Nt(this,function(e){return this._credentials=null,this._credentials_source=null,Dt.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);ke.a.register(qt)},S3Uu:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return l});for(var r={},i=new Array(64),o=0,a="A".charCodeAt(0),s="Z".charCodeAt(0);o+a<=s;o++){var c=String.fromCharCode(o+a);r[c]=o,i[o]=c}for(o=0,a="a".charCodeAt(0),s="z".charCodeAt(0);o+a<=s;o++)c=String.fromCharCode(o+a),r[c]=u=o+26,i[u]=c;for(o=0;o<10;o++){var u;r[o.toString(10)]=o+52,c=o.toString(10),r[c]=u=o+52,i[u]=c}function d(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),i=new DataView(n),o=0;o<e.length;o+=4){for(var a=0,s=0,c=o,u=o+3;c<=u;c++)"="!==e[c]?(a|=r[e[c]]<<6*(u-c),s+=6):a>>=6;var d=o/4*3;a>>=s%8;for(var l=Math.floor(s/8),f=0;f<l;f++){var h=8*(l-f-1);i.setUint8(d+f,(a&255<<h)>>h)}}return new Uint8Array(n)}function l(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,o=0,a=n,s=Math.min(n+3,e.length);a<s;a++)r|=e[a]<<8*(s-a-1),o+=8;var c=Math.ceil(o/6);r<<=6*c-o;for(var u=1;u<=c;u++){var d=6*(c-u);t+=i[(r&63<<d)>>d]}t+="==".slice(0,4-c)}return t}r["+"]=62,i[62]="+",r["/"]=63,i[63]="/"},TARy:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,i)},i=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}},UMev:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return y});var r=n("7JaV"),i={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high"},o=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Object(r.__awaiter)(void 0,void 0,void 0,function(){return Object(r.__generator)(this,function(r){return[2,e.retryStrategy.retry(t,n)]})})}}}(e),i)}}},a=n("Enk7"),s=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],c=["Throttling","ThrottlingException","ThrottledException","RequestThrottledException","TooManyRequestsException","ProvisionedThroughputExceededException","TransactionInProgressException","RequestLimitExceeded","BandwidthLimitExceeded","LimitExceededException","RequestThrottled","SlowDown","PriorRequestNotComplete","EC2ThrottledException"],u=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],d=[500,502,503,504],l=function(e){var t;return c.includes(e.name)||1==(null===(t=e.$retryable)||void 0===t?void 0:t.throttling)},f=n("IuFX"),h=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},g=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return s.includes(e.name)}(e)||l(e)||function(e){var t;return u.includes(e.name)||d.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},p=3,v=function(){function e(e,t){var n,r,i,o,a,s;this.maxAttemptsProvider=e,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:g,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:h,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(500,o=500,a=function(e){return"TimeoutError"===e.name?10:5},s=function(e){return a(e)<=o},Object.freeze({hasRetryTokens:s,retrieveRetryTokens:function(e){if(!s(e))throw new Error("No retry token available");var t=a(e);return o-=t,t},releaseRetryTokens:function(e){o+=null!=e?e:1,o=Math.min(o,500)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var e;return Object(r.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=p,[3,3];case 3:return[2,e]}})})},e.prototype.retry=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,s,c,u,d,h;return Object(r.__generator)(this,function(g){switch(g.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:s=g.sent(),a.a.isInstance(c=t.request)&&(c.headers["amz-sdk-invocation-id"]=Object(f.v4)()),u=function(){var u,f,h,g,p;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,5]),a.a.isInstance(c)&&(c.headers["amz-sdk-request"]="attempt="+(i+1)+"; max="+s),[4,e(t)];case 1:return u=r.sent(),f=u.response,h=u.output,d.retryQuota.releaseRetryTokens(n),h.$metadata.attempts=i+1,h.$metadata.totalRetryDelay=o,[2,{value:{response:f,output:h}}];case 2:return g=r.sent(),i++,d.shouldRetry(g,i,s)?(n=d.retryQuota.retrieveRetryTokens(g),p=d.delayDecider(l(g)?500:100,i),o+=p,[4,new Promise(function(e){return setTimeout(e,p)})]):[3,4];case 3:return r.sent(),[2,"continue"];case 4:throw g.$metadata||(g.$metadata={}),g.$metadata.attempts=i,g.$metadata.totalRetryDelay=o,g;case 5:return[2]}})},d=this,g.label=2;case 2:return[5,u()];case 3:return"object"==typeof(h=g.sent())?[2,h.value]:[3,2];case 4:return[2]}})})},e}(),y=function(e){var t=b(e.maxAttempts);return Object(r.__assign)(Object(r.__assign)({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new v(t)})},b=function(e){if(void 0===e&&(e=p),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},c14h:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("2XnK"),i=function(e){var t,n=new URL(e),i=n.hostname,o=n.pathname,a=n.port,s=n.protocol,c=n.search;return c&&(t=Object(r.a)(c)),{hostname:i,port:a?parseInt(a):void 0,protocol:s,path:o,query:t}}},fQM2:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("Nt7R"),i=new r.a("Amplify"),o=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Logger=r.a,this.ServiceWorker=null}return e.prototype.register=function(e){i.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):i.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),i.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(e){var n=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(e,2)[1];Object.keys(n).forEach(function(e){t._modules[e]&&(n[e]=t._modules[e])})}),this._components.map(function(e){e.configure(t._config)}),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map(function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)})},e}())},"ko+D":function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("7JaV"),i="X-Amz-Date".toLowerCase(),o=["authorization",i,"date"],a="X-Amz-Signature".toLowerCase(),s="X-Amz-Security-Token".toLowerCase(),c={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},u=/^proxy-/,d=/^sec-/,l="AWS4-HMAC-SHA256-PAYLOAD",f={},h=[];function g(e,t,n){return e+"/"+t+"/"+n+"/aws4_request"}var p=n("7Z+r");function v(e,t,n){var i,o,a=e.headers,s={};try{for(var l=Object(r.__values)(Object.keys(a).sort()),f=l.next();!f.done;f=l.next()){var h=f.value,g=h.toLowerCase();(g in c||(null==t?void 0:t.has(g))||u.test(g)||d.test(g))&&(!n||n&&!n.has(g))||(s[g]=a[h].trim().replace(/\s+/g," "))}}catch(p){i={error:p}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return s}var y=n("TARy"),b=n("GDOE");function m(e,t){var n=e.headers,i=e.body;return Object(r.__awaiter)(this,void 0,void 0,function(){var e,o,a,s,c,u,d;return Object(r.__generator)(this,function(l){switch(l.label){case 0:try{for(e=Object(r.__values)(Object.keys(n)),o=e.next();!o.done;o=e.next())if("x-amz-content-sha256"===(a=o.value).toLowerCase())return[2,n[a]]}catch(f){u={error:f}}finally{try{o&&!o.done&&(d=e.return)&&d.call(e)}finally{if(u)throw u.error}}return null!=i?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof i||ArrayBuffer.isView(i)||Object(b.a)(i)?((s=new t).update(i),c=p.b,[4,s.digest()]):[3,3];case 2:return[2,c.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}})})}function w(e){var t=e.headers,n=e.query,i=Object(r.__rest)(e,["headers","query"]);return Object(r.__assign)(Object(r.__assign)({},i),{headers:Object(r.__assign)({},t),query:n?_(n):void 0})}function _(e){return Object.keys(e).reduce(function(t,n){var i,o=e[n];return Object(r.__assign)(Object(r.__assign)({},t),((i={})[n]=Array.isArray(o)?Object(r.__spread)(o):o,i))},{})}function j(e){var t,n;e="function"==typeof e.clone?e.clone():w(e);try{for(var i=Object(r.__values)(Object.keys(e.headers)),a=i.next();!a.done;a=i.next()){var s=a.value;o.indexOf(s.toLowerCase())>-1&&delete e.headers[s]}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e}var O=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.sha256,o=e.uriEscapePath,a=void 0===o||o;this.service=e.service,this.sha256=i,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=I(r),this.credentialProvider=E(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Object(r.__awaiter)(this,void 0,void 0,function(){var n,i,o,a,s,c,u,d,l,f,h,p,y,b,_,O,I,E,x,C,A,R,T;return Object(r.__generator)(this,function(P){switch(P.label){case 0:return i=void 0===(n=t.signingDate)?new Date:n,a=void 0===(o=t.expiresIn)?3600:o,s=t.unsignableHeaders,c=t.signableHeaders,u=t.signingRegion,d=t.signingService,[4,this.credentialProvider()];case 1:return l=P.sent(),null==u?[3,2]:(h=u,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=P.sent(),P.label=4;case 4:return f=h,p=S(i),y=p.longDate,b=p.shortDate,a>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(_=g(b,f,null!=d?d:this.service),O=function(e){var t,n,i="function"==typeof e.clone?e.clone():w(e),o=i.headers,a=i.query,s=void 0===a?{}:a;try{for(var c=Object(r.__values)(Object.keys(o)),u=c.next();!u.done;u=c.next()){var d=u.value;"x-amz-"===d.toLowerCase().substr(0,6)&&(s[d]=o[d],delete o[d])}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return Object(r.__assign)(Object(r.__assign)({},e),{headers:o,query:s})}(j(e)),l.sessionToken&&(O.query["X-Amz-Security-Token"]=l.sessionToken),O.query["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",O.query["X-Amz-Credential"]=l.accessKeyId+"/"+_,O.query["X-Amz-Date"]=y,O.query["X-Amz-Expires"]=a.toString(10),I=v(O,s,c),O.query["X-Amz-SignedHeaders"]=k(I),E=O.query,x="X-Amz-Signature",C=this.getSignature,A=[y,_,this.getSigningKey(l,f,b,d)],R=this.createCanonicalRequest,T=[O,I],[4,m(e,this.sha256)]);case 5:return[4,C.apply(this,A.concat([R.apply(this,T.concat([P.sent()]))]))];case 6:return E[x]=P.sent(),[2,O]}})})},e.prototype.sign=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,function(){return Object(r.__generator)(this,function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]})})},e.prototype.signEvent=function(e,t){var n=e.headers,i=e.payload,o=t.signingDate,a=void 0===o?new Date:o,s=t.priorSignature,c=t.signingRegion,u=t.signingService;return Object(r.__awaiter)(this,void 0,void 0,function(){var e,t,o,d,f,h,v,y,b,w;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return null==c?[3,1]:(t=c,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=r.sent(),r.label=3;case 3:return e=t,o=S(a),d=o.longDate,f=g(o.shortDate,e,null!=u?u:this.service),[4,m({headers:{},body:i},this.sha256)];case 4:return h=r.sent(),(v=new this.sha256).update(n),b=p.b,[4,v.digest()];case 5:return y=b.apply(void 0,[r.sent()]),w=[l,d,f,s,y,h].join("\n"),[2,this.signString(w,{signingDate:a,signingRegion:e,signingService:u})]}})})},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,i=n.signingDate,o=void 0===i?new Date:i,a=n.signingRegion,s=n.signingService;return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n,i,c,u,d,l,f;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.credentialProvider()];case 1:return t=r.sent(),null==a?[3,2]:(i=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:i=r.sent(),r.label=4;case 4:return n=i,c=S(o).shortDate,l=(d=this.sha256).bind,[4,this.getSigningKey(t,n,c,s)];case 5:return(u=new(l.apply(d,[void 0,r.sent()]))).update(e),f=p.b,[4,u.digest()];case 6:return[2,f.apply(void 0,[r.sent()])]}})})},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,o=n.signingDate,a=void 0===o?new Date:o,c=n.signableHeaders,u=n.unsignableHeaders,d=n.signingRegion,l=n.signingService;return Object(r.__awaiter)(this,void 0,void 0,function(){var t,n,o,f,h,p,y,b,w,_,O;return Object(r.__generator)(this,function(I){switch(I.label){case 0:return[4,this.credentialProvider()];case 1:return t=I.sent(),null==d?[3,2]:(o=d,[3,4]);case 2:return[4,this.regionProvider()];case 3:o=I.sent(),I.label=4;case 4:return n=o,f=j(e),h=S(a),p=h.longDate,b=g(y=h.shortDate,n,null!=l?l:this.service),f.headers[i]=p,t.sessionToken&&(f.headers[s]=t.sessionToken),[4,m(f,this.sha256)];case 5:return w=I.sent(),!function(e,t){var n,i;e=e.toLowerCase();try{for(var o=Object(r.__values)(Object.keys(t)),a=o.next();!a.done;a=o.next())if(e===a.value.toLowerCase())return!0}catch(s){n={error:s}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1}("x-amz-content-sha256",f.headers)&&this.applyChecksum&&(f.headers["x-amz-content-sha256"]=w),_=v(f,u,c),[4,this.getSignature(p,b,this.getSigningKey(t,n,y,l),this.createCanonicalRequest(f,_,w))];case 6:return O=I.sent(),f.headers.authorization="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+b+", SignedHeaders="+k(_)+", Signature="+O,[2,f]}})})},e.prototype.createCanonicalRequest=function(e,t,n){var i=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,i=e.query,o=void 0===i?{}:i,s=[],c={},u=function(e){if(e.toLowerCase()===a)return"continue";s.push(e);var t=o[e];"string"==typeof t?c[e]=Object(y.a)(e)+"="+Object(y.a)(t):Array.isArray(t)&&(c[e]=t.slice(0).sort().reduce(function(t,n){return t.concat([Object(y.a)(e)+"="+Object(y.a)(n)])},[]).join("&"))};try{for(var d=Object(r.__values)(Object.keys(o).sort()),l=d.next();!l.done;l=d.next())u(l.value)}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return s.map(function(e){return c[e]}).filter(function(e){return e}).join("&")}(e)+"\n"+i.map(function(e){return e+":"+t[e]}).join("\n")+"\n\n"+i.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return(i=new this.sha256).update(n),[4,i.digest()];case 1:return o=r.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+Object(p.b)(o)]}})})},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,s,c,u;return Object(r.__generator)(this,function(r){switch(r.label){case 0:return[4,this.createStringToSign(e,t,i)];case 1:return o=r.sent(),c=(s=this.sha256).bind,[4,n];case 2:return(a=new(c.apply(s,[void 0,r.sent()]))).update(o),u=p.b,[4,a.digest()];case 3:return[2,u.apply(void 0,[r.sent()])]}})})},e.prototype.getSigningKey=function(e,t,n,i){return function(e,t,n,i,o){var a=n+":"+i+":"+o+":"+t.accessKeyId+":"+t.sessionToken;if(a in f)return f[a];for(h.push(a);h.length>50;)delete f[h.shift()];return f[a]=new Promise(function(s,c){var u,d,l=Promise.resolve("AWS4"+t.secretAccessKey),h=function(t){(l=l.then(function(n){return r=t,(i=new e(n)).update(r),i.digest();var r,i})).catch(function(){})};try{for(var g=Object(r.__values)([n,i,o,"aws4_request"]),p=g.next();!p.done;p=g.next())h(p.value)}catch(v){u={error:v}}finally{try{p&&!p.done&&(d=g.return)&&d.call(g)}finally{if(u)throw u.error}}l.then(s,function(e){delete f[a],c(e)})})}(this.sha256,e,n,t,i||this.service)},e}(),S=function(e){var t,n=(t=e,function(e){return"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e}(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.substr(0,8)}},k=function(e){return Object.keys(e).sort().join(";")},I=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},E=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}},mRvm:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("7JaV"),i={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"]},o={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"]};function a(e,t,n){return{applyToStack:function(a){a.add(function(e,t){return function(n,i){return function(o){return Object(r.__awaiter)(void 0,void 0,void 0,function(){var a,s,c,u,d;return Object(r.__generator)(this,function(l){switch(l.label){case 0:return a=i.logger,s=i.outputFilterSensitiveLog,[4,n(o)];case 1:return c=l.sent().response,"function"==typeof(null==a?void 0:a.debug)&&a.debug({httpResponse:c}),[4,t(c,e)];case 2:return u=l.sent(),d=Object(r.__rest)(u,["$metadata"]),"function"==typeof(null==a?void 0:a.info)&&a.info({output:s(d)}),[2,{response:c,output:u}]}})})}}}(e,n),i),a.add(function(e,t){return function(n,i){return function(o){return Object(r.__awaiter)(void 0,void 0,void 0,function(){var a,s,c;return Object(r.__generator)(this,function(u){switch(u.label){case 0:return s=i.inputFilterSensitiveLog,"function"==typeof(null==(a=i.logger)?void 0:a.info)&&a.info({input:s(o.input)}),[4,t(o.input,e)];case 1:return c=u.sent(),"function"==typeof(null==a?void 0:a.debug)&&a.debug({httpRequest:c}),[2,n(Object(r.__assign)(Object(r.__assign)({},o),{request:c}))]}})})}}}(e,t),o)}}}},naxo:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("7JaV"),i=n("Enk7"),o={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware"},a=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(o){return Object(r.__awaiter)(t,void 0,void 0,function(){var t,a,s,c,u;return Object(r.__generator)(this,function(d){return i.a.isInstance(t=o.request)&&(s=t.headers,(a=t.body)&&-1===Object.keys(s).map(function(e){return e.toLowerCase()}).indexOf("content-length")&&void 0!==(c=e(a))&&(t.headers=Object(r.__assign)(Object(r.__assign)({},t.headers),((u={})["content-length"]=String(c),u)))),[2,n(Object(r.__assign)(Object(r.__assign)({},o),{request:t}))]})})}}}(e.bodyLengthChecker),o)}}}},qcsT:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return u});var r=n("7JaV"),i=n("ko+D");function o(e){var t,n=this,o=a(e.credentials||e.credentialDefaultProvider(e)),s=e.signingEscapePath,c=void 0===s||s,u=e.systemClockOffset,d=void 0===u?e.systemClockOffset||0:u,l=e.sha256;return t=e.signer?a(e.signer):function(){return a(e.region)().then(function(t){return Object(r.__awaiter)(n,void 0,void 0,function(){return Object(r.__generator)(this,function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}})})}).then(function(t){var n=Object(r.__read)(t,2),a=n[0],s=a.signingRegion,u=a.signingService,d=void 0===u?e.signingName:u;return e.signingRegion=e.signingRegion||(void 0===s?e.signingRegion:s)||n[1],e.signingName=e.signingName||d,new i.a({credentials:o,region:e.signingRegion,service:e.signingName,sha256:l,uriEscapePath:c})})},Object(r.__assign)(Object(r.__assign)({},e),{systemClockOffset:d,signingEscapePath:c,credentials:o,signer:t})}function a(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var s=n("Enk7");var c={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware"},u=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(i){return Object(r.__awaiter)(this,void 0,void 0,function(){var o,a,c,u,d,l,f,h,g;return Object(r.__generator)(this,function(p){switch(p.label){case 0:return s.a.isInstance(i.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(i)];case 1:return a=p.sent(),[3,3];case 2:a=e.signer,p.label=3;case 3:return o=a,u=t,d=[Object(r.__assign)({},i)],g={},[4,o.sign(i.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,u.apply(void 0,[r.__assign.apply(void 0,d.concat([(g.request=p.sent(),g)]))])];case 5:return c=p.sent(),(f=(l=c.response.headers)&&(l.date||l.Date))&&(y=h=Date.parse(f),Math.abs((v=e.systemClockOffset,new Date(Date.now()+v)).getTime()-y)>=3e5&&(e.systemClockOffset=h-Date.now())),[2,c]}var v,y})})}}}(e),c)}}}},wU8f:function(e,t,n){"use strict";function r(e,t){return"aws-sdk-js-v3-"+e+"/"+t+" "+("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}n.d(t,"a",function(){return r})}}]);